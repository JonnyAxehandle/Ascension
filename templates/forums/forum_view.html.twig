{% extends "base.html.twig" %}

{% block breadcrumbs %}
    <li class="breadcrumb-item"><a href="{{ path('forums_index') }}">Forums</a></li>
    <li class="breadcrumb-item"><a href="{{ path('forums_forum_view', {forum: forum.id, forumSlug: forum.slug}) }}">
            {{ forum.title }}
        </a></li>
{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <main class="col-12">
            <h1>{{ forum.title }}</h1>

            <a class="btn btn-primary btn-lg float-end" href="{{ path('forums_thread_new', {
                forum: forum.id,
                forumSlug: forum.slug
            }) }}">New Thread</a>
            {{ knp_pagination_render(threads) }}

            <div class="card border-primary mb-2">
                <div class="card-header bg-primary text-white">
                    <span class="card-title">Threads</span>
                </div>

                <table class="table table-striped table-bordered m-0">
                    <thead>
                    <tr class="table-primary">
                        <th scope="col">
                            Title
                        </th>
                        <th scope="col">Date Started</th>
                        <th scope="col">Last Post</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% if pinnedThreads|length > 0 %}
                        <tr class="table-secondary">
                            <th colspan="3" scope="rowgroup">Pinned Threads</th>
                        </tr>
                        {% for thread in pinnedThreads %}
                            {% include "forums/forum_thread_row.html.twig" %}
                        {% endfor %}
                        <tr class="table-secondary">
                            <th colspan="3" scope="rowgroup">Regular Threads</th>
                        </tr>
                    {% endif %}
                    {% for thread in threads %}
                        {% include "forums/forum_thread_row.html.twig" %}
                    {% endfor %}
                    </tbody>
                </table>
            </div>

            {{ knp_pagination_render(threads) }}
        </main>
    </div>
</div>
{% endblock %}